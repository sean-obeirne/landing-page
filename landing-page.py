#!/usr/bin/env python3

#
# Author: Sean O'Beirne
# Date: 7-29-2024
# File: landing-page.py
# Usage: python3 landing-page
#

#
# Boilerplate for curses application
#


import curses
from curses.textpad import rectangle

import subprocess, os, sys

import time

import logging

stdscr = curses.initscr()


curses.start_color()
curses.use_default_colors()
# for i in range(0, curses.COLORS):
    # curses.init_pair(i, i, -1);


# Define colors
def hex_to_rgb(hexstring):
    r = int(int(hexstring[0:2], 16) * 1000 / 255)
    g = int(int(hexstring[2:4], 16) * 1000 / 255)
    b = int(int(hexstring[4:6], 16) * 1000 / 255)
    return (r, g, b)

if curses.can_change_color():
    black_rgb = (0, 0, 0)
    white_rgb = hex_to_rgb("c0caf5")
    red_rgb = hex_to_rgb("db4b4b")
    purple_rgb= hex_to_rgb("9d7cd8")
    green_rgb = hex_to_rgb("9ece6a")
    green2_rgb = hex_to_rgb("29ad2b")
    blue_rgb = hex_to_rgb("565f89")
    yellow_rgb = hex_to_rgb("e0af68")
    brown_rgb = hex_to_rgb("634003")

    curses.init_color(curses.COLOR_BLACK, *black_rgb)
    curses.init_color(curses.COLOR_WHITE, *white_rgb)
    curses.init_color(curses.COLOR_RED, *red_rgb)
    curses.init_color(curses.COLOR_MAGENTA, *purple_rgb)
    curses.init_color(curses.COLOR_BLUE, *blue_rgb)
    curses.init_color(curses.COLOR_YELLOW, *yellow_rgb)
    curses.init_color(curses.COLOR_GREEN, *green2_rgb)
    curses.init_color(curses.COLOR_CYAN, *brown_rgb)

curses.init_pair(1, curses.COLOR_BLUE, -1)
curses.init_pair(2, curses.COLOR_RED, -1)
curses.init_pair(3, curses.COLOR_MAGENTA, -1)
curses.init_pair(4, curses.COLOR_GREEN, -1)
curses.init_pair(5, curses.COLOR_WHITE, -1)
curses.init_pair(6, curses.COLOR_RED, -1)
curses.init_pair(8, curses.COLOR_YELLOW, -1)
curses.init_pair(7, curses.COLOR_WHITE, -1)
curses.init_pair(9, curses.COLOR_CYAN, -1)
RED_ON_BG = curses.color_pair(1)
WHITE_ON_BG = curses.color_pair(2)
PURPLE_ON_BG = curses.color_pair(3)
GREEN_ON_BG = curses.color_pair(4)

curses.use_default_colors()

    
HEADER = [
r"""       ____   U _____ u    _      _   _   _   ____         _   _      _       ____     ____   __   __      ____      _         _        ____ U _____ u """,
r"""      / __"| u\| ___"|/U  /"\  u | \ |"| |"| / __"| u     |'| |'| U  /"\  u U|  _"\ uU|  _"\ u\ \ / /    U|  _"\ u  |"|    U  /"\  u U /"___|\| ___"|/ """,
r"""     <\___ \/  |  _|"   \/ _ \/ <|  \| |>|_|<\___ \/     /| |_| |\ \/ _ \/  \| |_) |/\| |_) |/ \ V /     \| |_) |/U | | u   \/ _ \/  \| | u   |  _|"   """,
r"""      u___) |  | |___   / ___ \ U| |\  |u    u___) |     U|  _  |u / ___ \   |  __/   |  __/  U_|"|_u     |  __/   \| |/__  / ___ \   | |/__  | |___   """,
r"""      |____/>> |_____| /_/   \_\ |_| \_|     |____/>>     |_| |_| /_/   \_\  |_|      |_|       |_|       |_|       |_____|/_/   \_\   \____| |_____|  """,
r"""       )(  (__)<<   >>  \\    >> ||   \\,-.   )(  (__)    //   \\  \\    >>  ||>>_    ||>>_ .-,//|(_      ||>>_     //  \\  \\    >>  _// \\  <<   >>  """,
r"""      (__)    (__) (__)(__)  (__)(_")  (_/   (__)        (_") ("_)(__)  (__)(__)__)  (__)__) \_) (__)    (__)__)   (_")("_)(__)  (__)(__)(__)(__) (__) """,
        ]

HEADER_COLOR_MAP = """\
0000000333300010333330100003000000300030003000333300000000030003000000300000003333000003333000330003300000033330000003000000000300000000333301033333010\
0000003033130113033313110031300103030313031303033330100000313031301003130010130031301130031301303030300001300313010031300001003130010103133331303331310\
0000013333031003003310001303031013003303133313333031000001303330310130303100130333031130333031030303000003303330311030301000130303100330301000300331000\
0000001333303003033330003033303013033003100001333303000001300300310303330300030033300030033300113131100000300333000130313300303330300030333300303333000\
0000003333331103333333033300033303330333000003333331100000333033303330003330033300000033300000003330000000333000000033333333330003330003333330333333300\
0000000110011111100011001100001101100011111000110011110000110001100110000110011111000011111111111111000000111110000011001100110000110011101100110001100\
0000001111000011110111111110011111111001110001111000000001111011111111001111111111100111111101110111100001111111000111111111111001111111111111111011110\
"""

FOOTER = [
r"""                                                                              ; ; ;                                                          """,
r"""                                                                            ;       ;  ;     ;;    ;                                         """,
r"""                                                                         ;                ;         ;  ;                                     """,
r"""                                                                        ;               ;                                                    """,
r"""                                                                                       ;                ;;                                   """,
r"""                                                                       ;          ;            ;              ;                              """,
r"""                                                                       ;            ';,        ;               ;                             """,
r"""                                                                       ;              'b      *                                              """,
r"""                                                                        ;              '$    ;;                ;;                            """,
r"""                                                                       ;    ;           $:   ;:               ;                              """,
r"""                                                                     ;;      ;  ;;      *;  @):        ;   ; ;                               """,
r"""                                                                                  ;     :@,@):   ,;**:'   ;                                  """,
r"""                                                                      ;      ;,         :@@*: ;;**'      ;   ;                               """,
r"""                                                                                ';o;    ;:(@';@*"'  ;                                        """,
r"""                                                                       ;  ;       'bq,;;:,@@*'   ,*      ;  ;                                """,
r"""                                                                                  ,p$q8,:@)'  ;p*'      ;                                    """,
r"""                         _                                                 ;     '  ; '@@Pp@@*'    ;  ;                                      """,
r"""                       _(_)_                          wWWWw   _             ;  ; ;;    Y7'.'                           wWWWw     _           """,
r"""           @@@@       (_)@(_)   vVVVv     _     @@@@  (___) _(_)      @@@             :@):.   vVVVv       _     @@@@   (___)   _(_)      @@@ """,
r"""          @@()@@ wWWWw  (_)\    (___)   _(_)_  @@()@@   Y  (_)@(_)   @@.@@     @@@   .:@:'.   (___)     _(_)_  @@()@@    Y    (_)@(_)   @@.@@""",
r"""           @@@@  (___)     `|/    Y    (_)@(_)  @@@@   \|/   (_)\     @@@     @@-@@.::(@:.      Y      (_)@(_)  @@@@    \|/     (_)\     @@@ """,
r"""            /      Y       \|    \|/    /(_)    \|      |/      |      | /     @@@.:::)@::     \|/      /(_)    \|       |/        |      | /""",
r"""         \ |     \ |/       | / \ | /  \|/       |/    \|      \|/    \|/       |\:::(@@::.   \ | /    \|/       |/     \|        \|/    \|/ """,
r"""         \\|/    \\|//     \|// \\|/ / \|//     \|//  \\|//    \|//   \/\//    \|.::)@@@:::   \\|/ /   \|//     \|//   \\|//      \|//   \/\/""",
# r"""^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"""\
        ]

FOOTER_COLOR_MAP = """\
000000000000000000000000000000000000000000000000000000000000000000000000000000404040000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000040000000400400000440000400000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000400000000040040000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000400000000000000040000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000004400000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000004000000000090000000000009000000000000004000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000004000000000000999000000009000000000000000400000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000004000000000000009900000090000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000400000000000000990000990000000000000000440000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000004000040000000000099000990000000000000004000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000440000004004400000099009990000000090004040000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000040000099999900099999900040000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000040000009900000000099999099999000000400040000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000009999000099999999990090000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000004004000000099999999999900099000000400400000000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000000000000000000000099999999990099990000004000000000000000000000000000000000000\
000000000000000000000000030000000000000000000000000000000000000000000000000400000900409999999990000400400000000000000000000000000000000000000\
000000000000000000000003333300000000000000000000000000988890007000000000000040040440000999990000000000000000000000000003333300000200000000000\
000000000008888000000033383330006666600000200000888800444440777700000033300000000000009999900055555000000080000011110008444800022220000008880\
000000000088228809999900333400004888400022222008899880004007772777000339330000011100099999900044444000008888800118811000040000222822200088988\
000000000008888008888800000444000040000222822200888800044400077740000033300000117119999999000000400000088848880011110000444000002224000008880\
000000000000400000040000000440000444000042220000440000004400000040000004040000011199999999000004440000004888000044000000044000000004000000404\
000000000404000004044000000040404040400444000000044000044000000444000044400000004499999999900040404000044400000004400000440000000044400004440\
000000000444400004444400000444404444040444400000444400444440000444400044444000044999999999900044440400044440000044440004444400000044440004444\
"""

def main(stdscr):
    # Clear screen
    stdscr.clear()

    # Turn off cursor blinking
    curses.curs_set(0)

    # Get screen height and width
    height, width = stdscr.getmaxyx()

    i = 0
    x = 0
    y = 0
    for line in HEADER:
        for char in line:
            this = int(HEADER_COLOR_MAP[i])
            stdscr.addch(y, x, char, curses.color_pair(this) | (curses.A_BOLD if this == 3 else 0))
            i += 1
            x += 1
        y += 1
        x = 0

    i = 0
    x = width - 142
    y = 14
    for line in FOOTER:
        for char in line:
            this = int(FOOTER_COLOR_MAP[i])
            stdscr.addch(y, x, char, curses.color_pair(this))
            i += 1
            x += 1
        y += 1
        x = width - 142

    # Create a window for input
    stdscr.bkgd(curses.color_pair(2))

    # Main loop
    while True:
        # Display a message in the middle of the screen
        # msg = "Welcome to your custom Neovim landing page!"
        # stdscr.addstr(height // 2, (width - len(msg)) // 2, msg, curses.color_pair(1))

        # rectangle(stdscr, 1, 1, height - 1, width - 2)
        stdscr.refresh()

        # Get user input
        curses.echo()
        curses.noecho()


if __name__ == "__main__":
    curses.wrapper(main)

